!function(){"use strict";angular.module("app",["ngAnimate","ngMaterial"]),angular.module("app").run(["$templateCache",function(t){t.put("popup.html",'<div class="marker md-whiteframe-4dp"><div class="popup" layout="column" ng-Show="visiblePopup"><md-list><md-list-item class="md-2-line" layout="column" ng-repeat="list in lists track by $index" edit-post-directive><div class="wrap-button"><md-button class="md-raised" ng-click="deletePost($index)"> Del </md-button><md-button class="md-raised" ng-click="editPost($index)" ng-if="!edit"> Edit </md-button></div><div class="md-list-item-text comment-list"><div ng-if="!edit"><h3>{{list.name}}{{vm.text}}</h3><p class="description">{{list.description}}</p></div><div ng-if="edit"><form ng-submit="updatePost($index, newPost)"><md-input-container class="input-container"><label>Edit comment</label><input ng-model="newPost" type="text"></md-input-container></form></div></div></md-list-item></md-list><form ng-submit="sendPost()"><md-input-container class="input-container"><label>Write comment</label><input ng-model="message" type="text" id="message" ng-focus="visibleButton=true"></md-input-container><md-button class="md-raised submit-form" type="submit" ng-Show="visibleButton" ng-click="visibleButton=false"> Send Post </md-button></form></div></div>')}])}(),function(){"use strict";function t(t,e){function i(i,n,s){var o={x:0,y:0},l=10,a=document.getElementById("wrap-img");a.onmousemove=function(t){o.x=void 0==t.offsetX?t.layerX:t.offsetX,o.y=void 0==t.offsetY?t.layerY:t.offsetY},n.bind("click",function(n){var s=document.createElement("popup-directive");s.className="my-marker",s.setAttribute("ng-mouseenter","visiblePopup=true"),s.setAttribute("ng-mouseleave","visiblePopup=false"),s.setAttribute("ng-Show","visibleMarker"),s.style.top=o.y-l+"px",s.style.left=o.x-l+"px",s.innerHTML=e.get("popup.html"),angular.element(document.getElementById("wrap-img")).append(t(s)(i))})}var n={link:i,restrict:"EA"};return n}angular.module("app").directive("clickDirective",t),t.$inject=["$compile","$templateCache"]}(),function(){"use strict";function t(){function t(t,e,i){t.edit=!1,t.newPost=null,t.editPost=function(e){t.edit=!0,t.newPost=angular.copy(t.lists[e].description)},t.updatePost=function(e,i){t.lists[e].description=i,t.newPost=null,t.edit=!1},t.deletePost=function(e){t.lists.splice(e,1)}}var e={link:t,restrict:"EA"};return e}angular.module("app").directive("editPostDirective",t)}(),function(){"use strict";function t(){function t(t,e,i){t.name="Vasya",t.lists=[],e.on("click",function(t){t.stopPropagation()}),t.sendPost=function(){t.message&&(t.lists.push({name:t.name,description:t.message}),t.message="")}}var e={link:t,restrict:"EA",scope:!0};return e}angular.module("app").directive("popupDirective",t)}();